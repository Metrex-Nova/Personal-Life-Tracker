<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Screen Time Tracker | PLT-2026 Personal Life Tracker</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-dark: #0a0a0a;
            --secondary-dark: #1a1a1a;
            --card-bg: rgba(40, 40, 40, 0.8);
            --text-light: #e0e0e0;
            --text-heading: #ffffff;
            --border-light: rgba(255, 255, 255, 0.1);
            --input-bg: #2d2d2d;
            --mobile-color: #20c9b0;
            --laptop-color: #8B7355;
            --total-color: #2ecc71;
            --good-color: #2ecc71;
            --moderate-color: #f1c40f;
            --high-color: #e67e22;
            --excessive-color: #e74c3c;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
        }

        body {
            background: linear-gradient(135deg, var(--primary-dark), var(--secondary-dark));
            color: var(--text-light);
            min-height: 100vh;
            line-height: 1.6;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Header Styles */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding: 20px;
            background: var(--card-bg);
            border-radius: 12px;
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow);
        }

        .header h1 {
            color: var(--text-heading);
            font-size: 28px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .header h1 i {
            color: var(--laptop-color);
        }

        .current-date-display {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-heading);
            padding: 10px 20px;
            background: var(--input-bg);
            border-radius: 8px;
            border: 1px solid var(--border-light);
        }

        /* Main Layout */
        .dashboard {
            display: grid;
            grid-template-columns: 1fr 2fr 1fr;
            gap: 25px;
            margin-bottom: 40px;
        }

        @media (max-width: 1200px) {
            .dashboard {
                grid-template-columns: 1fr 1fr;
                grid-template-rows: auto auto;
            }
            
            .left-column {
                grid-column: 1;
                grid-row: 1;
            }
            
            .center-column {
                grid-column: 2;
                grid-row: 1;
            }
            
            .right-column {
                grid-column: 1 / span 2;
                grid-row: 2;
            }
        }

        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
                grid-template-rows: auto auto auto;
            }
            
            .left-column, .center-column, .right-column {
                grid-column: 1;
            }
            
            .left-column {
                grid-row: 1;
            }
            
            .center-column {
                grid-row: 2;
            }
            
            .right-column {
                grid-row: 3;
            }
        }

        /* Column Common Styles */
        .column {
            background: var(--card-bg);
            border-radius: 12px;
            border: 1px solid var(--border-light);
            padding: 25px;
            box-shadow: var(--shadow);
        }

        .column h2 {
            color: var(--text-heading);
            margin-bottom: 20px;
            font-size: 22px;
            display: flex;
            align-items: center;
            gap: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-light);
        }

        .column h2 i {
            color: var(--laptop-color);
        }

        /* Left Column Styles */
        .date-navigation {
            display: flex;
            justify-content: space-between;
            margin-bottom: 25px;
        }

        .nav-btn {
            background: var(--input-bg);
            border: 1px solid var(--border-light);
            color: var(--text-light);
            width: 40px;
            height: 40px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .nav-btn:hover {
            background: #3d3d3d;
            transform: translateY(-2px);
        }

        .today-btn {
            background: var(--laptop-color);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
        }

        .today-btn:hover {
            background: #9c8260;
            transform: translateY(-2px);
        }

        .date-picker-container {
            margin-bottom: 25px;
        }

        #datePicker {
            width: 100%;
            padding: 12px;
            background: var(--input-bg);
            border: 1px solid var(--border-light);
            border-radius: 8px;
            color: var(--text-light);
            font-size: 16px;
        }

        .daily-stats {
            margin-top: 25px;
        }

        .stat-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            padding: 12px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            border-left: 4px solid transparent;
        }

        .stat-item.mobile {
            border-left-color: var(--mobile-color);
        }

        .stat-item.laptop {
            border-left-color: var(--laptop-color);
        }

        .stat-item.total {
            border-left-color: var(--total-color);
        }

        .stat-label {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .stat-value {
            font-weight: 700;
            font-size: 18px;
        }

        .goals-container {
            margin-top: 30px;
        }

        .goal-input-group {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .goal-input {
            flex: 1;
            padding: 10px;
            background: var(--input-bg);
            border: 1px solid var(--border-light);
            border-radius: 8px;
            color: var(--text-light);
        }

        .set-goal-btn {
            background: var(--total-color);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
        }

        .set-goal-btn:hover {
            background: #27ae60;
            transform: translateY(-2px);
        }

        /* Center Column Styles */
        .input-form {
            margin-bottom: 30px;
        }

        .input-group {
            margin-bottom: 25px;
        }

        .input-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .input-label span:last-child {
            font-weight: normal;
            color: #aaa;
        }

        .time-input {
            width: 100%;
            padding: 15px;
            background: var(--input-bg);
            border: 2px solid var(--border-light);
            border-radius: 10px;
            color: var(--text-light);
            font-size: 18px;
            transition: var(--transition);
        }

        .time-input:focus {
            outline: none;
            border-color: var(--laptop-color);
        }

        .time-input.mobile {
            border-bottom-color: var(--mobile-color);
        }

        .time-input.laptop {
            border-bottom-color: var(--laptop-color);
        }

        .progress-container {
            margin-top: 8px;
        }

        .progress-bar {
            height: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 5px;
        }

        .progress-fill {
            height: 100%;
            border-radius: 5px;
            transition: width 0.5s ease;
        }

        .progress-fill.mobile {
            background: var(--mobile-color);
        }

        .progress-fill.laptop {
            background: var(--laptop-color);
        }

        .progress-labels {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #aaa;
        }

        .save-btn {
            width: 100%;
            padding: 16px;
            background: var(--laptop-color);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .save-btn:hover {
            background: #9c8260;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }

        .time-indicator {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin-left: 10px;
        }

        .good { background: var(--good-color); color: white; }
        .moderate { background: var(--moderate-color); color: #333; }
        .high { background: var(--high-color); color: white; }
        .excessive { background: var(--excessive-color); color: white; }

        /* Right Column Styles */
        .recent-days {
            margin-bottom: 30px;
        }

        .day-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            margin-bottom: 10px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            border-left: 4px solid transparent;
            transition: var(--transition);
            cursor: pointer;
        }

        .day-item:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .day-item.active {
            border-left-color: var(--laptop-color);
            background: rgba(139, 115, 85, 0.1);
        }

        .day-date {
            font-weight: 600;
        }

        .day-total {
            font-weight: 700;
        }

        .chart-container {
            margin-top: 30px;
        }

        .chart-bar {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .chart-label {
            width: 80px;
            font-size: 14px;
        }

        .chart-visual {
            flex: 1;
            display: flex;
            height: 30px;
            border-radius: 6px;
            overflow: hidden;
        }

        .chart-mobile, .chart-laptop {
            height: 100%;
            transition: width 0.5s ease;
        }

        .chart-mobile {
            background: var(--mobile-color);
        }

        .chart-laptop {
            background: var(--laptop-color);
        }

        .chart-value {
            width: 60px;
            text-align: right;
            font-weight: 600;
        }

        .monthly-average {
            margin-top: 30px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }

        .average-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-light);
        }

        .average-value {
            font-weight: 700;
            color: var(--text-heading);
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 20px;
            color: #aaa;
            font-size: 14px;
            border-top: 1px solid var(--border-light);
            margin-top: 30px;
        }

        .warning-message {
            background: rgba(231, 76, 60, 0.2);
            border: 1px solid var(--excessive-color);
            color: #ff9e9e;
            padding: 12px;
            border-radius: 8px;
            margin-top: 15px;
            font-size: 14px;
            display: none;
        }

        .warning-message.show {
            display: block;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1><i class="fas fa-desktop"></i> Screen Time Tracker</h1>
            <div class="current-date-display" id="currentDateDisplay">Today: January 15, 2024</div>
        </div>

        <!-- Main Dashboard -->
        <div class="dashboard">
            <!-- Left Column -->
            <div class="column left-column">
                <h2><i class="fas fa-calendar-alt"></i> Date Navigation</h2>
                
                <div class="date-navigation">
                    <button class="nav-btn" id="prevDayBtn"><i class="fas fa-chevron-left"></i></button>
                    <button class="today-btn" id="todayBtn">Today</button>
                    <button class="nav-btn" id="nextDayBtn"><i class="fas fa-chevron-right"></i></button>
                </div>
                
                <div class="date-picker-container">
                    <input type="date" id="datePicker" max="">
                </div>
                
                <div class="daily-stats">
                    <h3>Daily Statistics</h3>
                    <div class="stat-item mobile">
                        <div class="stat-label">
                            <i class="fas fa-mobile-alt"></i> Mobile
                        </div>
                        <div class="stat-value" id="statMobile">0.0h</div>
                    </div>
                    <div class="stat-item laptop">
                        <div class="stat-label">
                            <i class="fas fa-laptop"></i> Laptop
                        </div>
                        <div class="stat-value" id="statLaptop">0.0h</div>
                    </div>
                    <div class="stat-item total">
                        <div class="stat-label">
                            <i class="fas fa-clock"></i> Total
                        </div>
                        <div class="stat-value" id="statTotal">0.0h</div>
                    </div>
                </div>
                
                <div class="goals-container">
                    <h3>Daily Goals</h3>
                    <div class="goal-input-group">
                        <input type="number" min="0" max="24" step="0.5" class="goal-input" id="mobileGoalInput" placeholder="Mobile goal (hours)">
                        <button class="set-goal-btn" id="setMobileGoalBtn">Set</button>
                    </div>
                    <div class="goal-input-group">
                        <input type="number" min="0" max="24" step="0.5" class="goal-input" id="laptopGoalInput" placeholder="Laptop goal (hours)">
                        <button class="set-goal-btn" id="setLaptopGoalBtn">Set</button>
                    </div>
                    <div class="goal-status" id="goalStatus"></div>
                </div>
            </div>

            <!-- Center Column -->
            <div class="column center-column">
                <h2><i class="fas fa-edit"></i> Log Screen Time</h2>
                
                <div class="input-form">
                    <div class="input-group">
                        <div class="input-label">
                            <span><i class="fas fa-mobile-alt" style="color: var(--mobile-color);"></i> Mobile Screen Time</span>
                            <span id="mobileIndicator">Good <span class="time-indicator good">Under 4h</span></span>
                        </div>
                        <input type="number" min="0" max="24" step="0.1" class="time-input mobile" id="mobileInput" placeholder="Enter hours (0-24)">
                        <div class="progress-container">
                            <div class="progress-bar">
                                <div class="progress-fill mobile" id="mobileProgress"></div>
                            </div>
                            <div class="progress-labels">
                                <span>0h</span>
                                <span>24h</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <div class="input-label">
                            <span><i class="fas fa-laptop" style="color: var(--laptop-color);"></i> Laptop Screen Time</span>
                            <span id="laptopIndicator">Good <span class="time-indicator good">Under 4h</span></span>
                        </div>
                        <input type="number" min="0" max="24" step="0.1" class="time-input laptop" id="laptopInput" placeholder="Enter hours (0-24)">
                        <div class="progress-container">
                            <div class="progress-bar">
                                <div class="progress-fill laptop" id="laptopProgress"></div>
                            </div>
                            <div class="progress-labels">
                                <span>0h</span>
                                <span>24h</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="warning-message" id="warningMessage">
                        <i class="fas fa-exclamation-triangle"></i> Warning: Total screen time exceeds 12 hours. Consider taking breaks.
                    </div>
                    
                    <button class="save-btn" id="saveBtn">
                        <i class="fas fa-save"></i> Save Today's Screen Time
                    </button>
                </div>
                
                <div class="today-values">
                    <h3>Today's Summary</h3>
                    <div class="stat-item mobile">
                        <div class="stat-label">
                            <i class="fas fa-mobile-alt"></i> Mobile
                        </div>
                        <div class="stat-value" id="todayMobile">0.0h</div>
                    </div>
                    <div class="stat-item laptop">
                        <div class="stat-label">
                            <i class="fas fa-laptop"></i> Laptop
                        </div>
                        <div class="stat-value" id="todayLaptop">0.0h</div>
                    </div>
                    <div class="stat-item total">
                        <div class="stat-label">
                            <i class="fas fa-clock"></i> Total
                        </div>
                        <div class="stat-value" id="todayTotal">0.0h</div>
                    </div>
                </div>
            </div>

            <!-- Right Column -->
            <div class="column right-column">
                <h2><i class="fas fa-history"></i> Recent Days</h2>
                
                <div class="recent-days" id="recentDays">
                    <!-- Recent days will be populated here -->
                </div>
                
                <div class="chart-container">
                    <h3>Weekly Overview</h3>
                    <div id="weeklyChart">
                        <!-- Chart bars will be populated here -->
                    </div>
                </div>
                
                <div class="monthly-average">
                    <h3>Monthly Averages</h3>
                    <div class="average-item">
                        <span>Mobile Average:</span>
                        <span class="average-value" id="monthlyMobileAvg">0.0h</span>
                    </div>
                    <div class="average-item">
                        <span>Laptop Average:</span>
                        <span class="average-value" id="monthlyLaptopAvg">0.0h</span>
                    </div>
                    <div class="average-item">
                        <span>Total Average:</span>
                        <span class="average-value" id="monthlyTotalAvg">0.0h</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>PLT-2026 Personal Life Tracker | Screen Time Tracker | Data stored locally in your browser</p>
        </div>
    </div>

    <script>
        // Data management
        const STORAGE_PREFIX = 'screen_time_';
        const GOAL_STORAGE_PREFIX = 'screen_goal_';
        
        // Get today's date in YYYY-MM-DD format
        function getTodayDate() {
            const now = new Date();
            return now.toISOString().split('T')[0];
        }
        
        // Format date for display
        function formatDate(dateStr) {
            const date = new Date(dateStr);
            return date.toLocaleDateString('en-US', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
        }
        
        // Get date string for a specific date
        function getDateString(date) {
            return date.toISOString().split('T')[0];
        }
        
        // Load data for a specific date
        function loadDataForDate(dateStr) {
            const data = localStorage.getItem(STORAGE_PREFIX + dateStr);
            if (data) {
                return JSON.parse(data);
            }
            return {
                date: dateStr,
                mobileHours: 0,
                laptopHours: 0,
                totalHours: 0,
                lastUpdated: new Date().toISOString()
            };
        }
        
        // Save data for a specific date
        function saveDataForDate(dateStr, mobileHours, laptopHours) {
            const totalHours = parseFloat(mobileHours) + parseFloat(laptopHours);
            const data = {
                date: dateStr,
                mobileHours: parseFloat(mobileHours) || 0,
                laptopHours: parseFloat(laptopHours) || 0,
                totalHours: totalHours,
                lastUpdated: new Date().toISOString()
            };
            
            localStorage.setItem(STORAGE_PREFIX + dateStr, JSON.stringify(data));
            return data;
        }
        
        // Get color indicator based on hours
        function getTimeIndicator(hours) {
            if (hours < 4) return { class: 'good', text: 'Good', label: 'Under 4h' };
            if (hours < 8) return { class: 'moderate', text: 'Moderate', label: '4-8h' };
            if (hours < 12) return { class: 'high', text: 'High', label: '8-12h' };
            return { class: 'excessive', text: 'Excessive', label: 'Over 12h' };
        }
        
        // Update the UI based on current data
        function updateUI() {
            const data = loadDataForDate(currentDate);
            
            // Update input fields
            mobileInput.value = data.mobileHours || '';
            laptopInput.value = data.laptopHours || '';
            
            // Update today's values display
            todayMobile.textContent = `${data.mobileHours.toFixed(1)}h`;
            todayLaptop.textContent = `${data.laptopHours.toFixed(1)}h`;
            todayTotal.textContent = `${data.totalHours.toFixed(1)}h`;
            
            // Update statistics
            statMobile.textContent = `${data.mobileHours.toFixed(1)}h`;
            statLaptop.textContent = `${data.laptopHours.toFixed(1)}h`;
            statTotal.textContent = `${data.totalHours.toFixed(1)}h`;
            
            // Update progress bars
            const mobilePercent = (data.mobileHours / 24) * 100;
            const laptopPercent = (data.laptopHours / 24) * 100;
            
            mobileProgress.style.width = `${Math.min(mobilePercent, 100)}%`;
            laptopProgress.style.width = `${Math.min(laptopPercent, 100)}%`;
            
            // Update indicators
            const mobileIndicator = getTimeIndicator(data.mobileHours);
            const laptopIndicator = getTimeIndicator(data.laptopHours);
            const totalIndicator = getTimeIndicator(data.totalHours);
            
            mobileIndicatorElement.innerHTML = `${mobileIndicator.text} <span class="time-indicator ${mobileIndicator.class}">${mobileIndicator.label}</span>`;
            laptopIndicatorElement.innerHTML = `${laptopIndicator.text} <span class="time-indicator ${laptopIndicator.class}">${laptopIndicator.label}</span>`;
            
            // Show/hide warning
            if (data.totalHours > 12) {
                warningMessage.classList.add('show');
            } else {
                warningMessage.classList.remove('show');
            }
            
            // Update date display
            currentDateDisplay.textContent = formatDate(currentDate);
            datePicker.value = currentDate;
            
            // Update recent days
            updateRecentDays();
            
            // Update weekly chart
            updateWeeklyChart();
            
            // Update monthly averages
            updateMonthlyAverages();
            
            // Update goal status
            updateGoalStatus();
        }
        
        // Update recent days list
        function updateRecentDays() {
            const recentDaysContainer = document.getElementById('recentDays');
            recentDaysContainer.innerHTML = '';
            
            // Get dates for the last 7 days
            const dates = [];
            for (let i = 6; i >= 0; i--) {
                const date = new Date();
                date.setDate(date.getDate() - i);
                dates.push(getDateString(date));
            }
            
            // Create day items
            dates.forEach(dateStr => {
                const data = loadDataForDate(dateStr);
                const dayItem = document.createElement('div');
                dayItem.className = `day-item ${dateStr === currentDate ? 'active' : ''}`;
                
                const date = new Date(dateStr);
                const dayName = date.toLocaleDateString('en-US', { weekday: 'short' });
                const monthDay = date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
                
                dayItem.innerHTML = `
                    <div class="day-date">${dayName}, ${monthDay}</div>
                    <div class="day-total">${data.totalHours.toFixed(1)}h</div>
                `;
                
                // Click to navigate to that date
                dayItem.addEventListener('click', () => {
                    currentDate = dateStr;
                    updateUI();
                });
                
                recentDaysContainer.appendChild(dayItem);
            });
        }
        
        // Update weekly chart
        function updateWeeklyChart() {
            const weeklyChartContainer = document.getElementById('weeklyChart');
            weeklyChartContainer.innerHTML = '';
            
            // Get dates for the last 7 days
            const dates = [];
            for (let i = 6; i >= 0; i--) {
                const date = new Date();
                date.setDate(date.getDate() - i);
                dates.push(getDateString(date));
            }
            
            // Find max total for scaling
            let maxTotal = 0;
            const chartData = dates.map(dateStr => {
                const data = loadDataForDate(dateStr);
                maxTotal = Math.max(maxTotal, data.totalHours);
                return data;
            });
            
            // Create chart bars
            chartData.forEach((data, index) => {
                const date = new Date(dates[index]);
                const dayName = date.toLocaleDateString('en-US', { weekday: 'short' });
                
                const chartBar = document.createElement('div');
                chartBar.className = 'chart-bar';
                
                // Calculate percentages for scaling
                const mobilePercent = maxTotal > 0 ? (data.mobileHours / maxTotal) * 100 : 0;
                const laptopPercent = maxTotal > 0 ? (data.laptopHours / maxTotal) * 100 : 0;
                
                chartBar.innerHTML = `
                    <div class="chart-label">${dayName}</div>
                    <div class="chart-visual">
                        <div class="chart-mobile" style="width: ${mobilePercent}%"></div>
                        <div class="chart-laptop" style="width: ${laptopPercent}%"></div>
                    </div>
                    <div class="chart-value">${data.totalHours.toFixed(1)}h</div>
                `;
                
                weeklyChartContainer.appendChild(chartBar);
            });
        }
        
        // Update monthly averages
        function updateMonthlyAverages() {
            // Get dates for the current month
            const today = new Date();
            const year = today.getFullYear();
            const month = today.getMonth();
            
            const firstDay = new Date(year, month, 1);
            const lastDay = new Date(year, month + 1, 0);
            
            let totalMobile = 0;
            let totalLaptop = 0;
            let totalHours = 0;
            let dayCount = 0;
            
            // Loop through all days in the month
            for (let date = new Date(firstDay); date <= lastDay; date.setDate(date.getDate() + 1)) {
                const dateStr = getDateString(date);
                const data = loadDataForDate(dateStr);
                
                totalMobile += data.mobileHours;
                totalLaptop += data.laptopHours;
                totalHours += data.totalHours;
                dayCount++;
            }
            
            // Calculate averages
            const mobileAvg = dayCount > 0 ? totalMobile / dayCount : 0;
            const laptopAvg = dayCount > 0 ? totalLaptop / dayCount : 0;
            const totalAvg = dayCount > 0 ? totalHours / dayCount : 0;
            
            // Update UI
            monthlyMobileAvg.textContent = `${mobileAvg.toFixed(1)}h`;
            monthlyLaptopAvg.textContent = `${laptopAvg.toFixed(1)}h`;
            monthlyTotalAvg.textContent = `${totalAvg.toFixed(1)}h`;
        }
        
        // Save goal settings
        function saveGoal(type, hours) {
            localStorage.setItem(GOAL_STORAGE_PREFIX + type, hours.toString());
        }
        
        // Load goal settings
        function loadGoal(type) {
            return parseFloat(localStorage.getItem(GOAL_STORAGE_PREFIX + type)) || 0;
        }
        
        // Update goal status display
        function updateGoalStatus() {
            const data = loadDataForDate(currentDate);
            const mobileGoal = loadGoal('mobile');
            const laptopGoal = loadGoal('laptop');
            
            let statusHTML = '';
            
            if (mobileGoal > 0) {
                const status = data.mobileHours <= mobileGoal ? '✅' : '⚠️';
                statusHTML += `<div>Mobile: ${data.mobileHours.toFixed(1)}h / ${mobileGoal}h ${status}</div>`;
            }
            
            if (laptopGoal > 0) {
                const status = data.laptopHours <= laptopGoal ? '✅' : '⚠️';
                statusHTML += `<div>Laptop: ${data.laptopHours.toFixed(1)}h / ${laptopGoal}h ${status}</div>`;
            }
            
            if (mobileGoal === 0 && laptopGoal === 0) {
                statusHTML = '<div>No goals set. Set daily goals above.</div>';
            }
            
            goalStatus.innerHTML = statusHTML;
        }
        
        // Initialize
        let currentDate = getTodayDate();
        
        // DOM elements
        const mobileInput = document.getElementById('mobileInput');
        const laptopInput = document.getElementById('laptopInput');
        const saveBtn = document.getElementById('saveBtn');
        const prevDayBtn = document.getElementById('prevDayBtn');
        const nextDayBtn = document.getElementById('nextDayBtn');
        const todayBtn = document.getElementById('todayBtn');
        const datePicker = document.getElementById('datePicker');
        const currentDateDisplay = document.getElementById('currentDateDisplay');
        const todayMobile = document.getElementById('todayMobile');
        const todayLaptop = document.getElementById('todayLaptop');
        const todayTotal = document.getElementById('todayTotal');
        const statMobile = document.getElementById('statMobile');
        const statLaptop = document.getElementById('statLaptop');
        const statTotal = document.getElementById('statTotal');
        const mobileProgress = document.getElementById('mobileProgress');
        const laptopProgress = document.getElementById('laptopProgress');
        const mobileIndicatorElement = document.getElementById('mobileIndicator');
        const laptopIndicatorElement = document.getElementById('laptopIndicator');
        const warningMessage = document.getElementById('warningMessage');
        const mobileGoalInput = document.getElementById('mobileGoalInput');
        const laptopGoalInput = document.getElementById('laptopGoalInput');
        const setMobileGoalBtn = document.getElementById('setMobileGoalBtn');
        const setLaptopGoalBtn = document.getElementById('setLaptopGoalBtn');
        const goalStatus = document.getElementById('goalStatus');
        
        // Set max date for date picker to today
        datePicker.max = getTodayDate();
        
        // Event listeners
        saveBtn.addEventListener('click', () => {
            const mobileHours = parseFloat(mobileInput.value) || 0;
            const laptopHours = parseFloat(laptopInput.value) || 0;
            
            // Validate inputs
            if (mobileHours < 0 || mobileHours > 24 || laptopHours < 0 || laptopHours > 24) {
                alert('Please enter values between 0 and 24 hours.');
                return;
            }
            
            // Save data
            saveDataForDate(currentDate, mobileHours, laptopHours);
            updateUI();
            
            // Show confirmation
            saveBtn.innerHTML = '<i class="fas fa-check"></i> Saved Successfully!';
            setTimeout(() => {
                saveBtn.innerHTML = '<i class="fas fa-save"></i> Save Today\'s Screen Time';
            }, 2000);
        });
        
        prevDayBtn.addEventListener('click', () => {
            const date = new Date(currentDate);
            date.setDate(date.getDate() - 1);
            currentDate = getDateString(date);
            updateUI();
        });
        
        nextDayBtn.addEventListener('click', () => {
            const date = new Date(currentDate);
            date.setDate(date.getDate() + 1);
            
            // Don't allow navigating to future dates
            if (date <= new Date()) {
                currentDate = getDateString(date);
                updateUI();
            }
        });
        
        todayBtn.addEventListener('click', () => {
            currentDate = getTodayDate();
            updateUI();
        });
        
        datePicker.addEventListener('change', () => {
            const selectedDate = datePicker.value;
            const today = getTodayDate();
            
            // Don't allow selecting future dates
            if (selectedDate <= today) {
                currentDate = selectedDate;
                updateUI();
            } else {
                datePicker.value = currentDate;
                alert('Cannot select future dates.');
            }
        });
        
        setMobileGoalBtn.addEventListener('click', () => {
            const goal = parseFloat(mobileGoalInput.value);
            if (goal >= 0 && goal <= 24) {
                saveGoal('mobile', goal);
                updateGoalStatus();
                mobileGoalInput.value = '';
            } else {
                alert('Please enter a valid goal between 0 and 24 hours.');
            }
        });
        
        setLaptopGoalBtn.addEventListener('click', () => {
            const goal = parseFloat(laptopGoalInput.value);
            if (goal >= 0 && goal <= 24) {
                saveGoal('laptop', goal);
                updateGoalStatus();
                laptopGoalInput.value = '';
            } else {
                alert('Please enter a valid goal between 0 and 24 hours.');
            }
        });
        
        // Auto-save when inputs lose focus
        mobileInput.addEventListener('blur', () => {
            const mobileHours = parseFloat(mobileInput.value) || 0;
            const laptopHours = parseFloat(laptopInput.value) || 0;
            
            if (mobileHours >= 0 && mobileHours <= 24) {
                saveDataForDate(currentDate, mobileHours, laptopHours);
                updateUI();
            }
        });
        
        laptopInput.addEventListener('blur', () => {
            const mobileHours = parseFloat(mobileInput.value) || 0;
            const laptopHours = parseFloat(laptopInput.value) || 0;
            
            if (laptopHours >= 0 && laptopHours <= 24) {
                saveDataForDate(currentDate, mobileHours, laptopHours);
                updateUI();
            }
        });
        
        // Load initial data and populate with sample data if empty
        function initializeData() {
            const today = getTodayDate();
            const hasData = localStorage.getItem(STORAGE_PREFIX + today);
            
            // If no data exists, create some sample data for demonstration
            if (!hasData) {
                // Create sample data for the last 7 days
                for (let i = 6; i >= 0; i--) {
                    const date = new Date();
                    date.setDate(date.getDate() - i);
                    const dateStr = getDateString(date);
                    
                    // Random sample data
                    const mobileHours = i === 0 ? 0 : Math.random() * 5 + 1;
                    const laptopHours = i === 0 ? 0 : Math.random() * 8 + 2;
                    
                    saveDataForDate(dateStr, mobileHours, laptopHours);
                }
            }
            
            // Load any existing goals
            const mobileGoal = loadGoal('mobile');
            const laptopGoal = loadGoal('laptop');
            
            if (mobileGoal > 0) {
                mobileGoalInput.placeholder = `Current: ${mobileGoal}h`;
            }
            
            if (laptopGoal > 0) {
                laptopGoalInput.placeholder = `Current: ${laptopGoal}h`;
            }
        }
        
        // Initialize the application
        initializeData();
        updateUI();
    </script>
</body>
</html>